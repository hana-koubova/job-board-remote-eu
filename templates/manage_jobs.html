{% extends "base.html" %} {% block content %}

<section id="manage-jobs">
    <div class="container">
        <div class="row d-flex justify-content-center mb-3">
            <div class="col-lg-6 col-md-10 col-sm-12">
                <h2 class="text-center p-5">Manage Jobs</h2>
            </div>
        </div>
    </div>

    <!--Active Jobs-->
    <section id="active-jobs">
        <div class="container">
            <div class="row">
                <h3>Active jobs ({{ comp.num_of_jobs}})</h3>
            </div>
            <div class="row justify-content-center">
            {% for job in jobs %}
                {% if job.active == True %}
                    <div class="col-sm-12 col-md-5 col-lg-5 white-div shadow-light m-3 p-3">
                        <!--Role and Link-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ job.role }}</h5>
                            </div>
                            <div>
                                <p><a href="{{ url_for('job', comp_id=comp.id, name=comp.name_slug, job_id=job.id) }}">
                                    See listing
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
                                        <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1"></path>
                                    </svg>
                                </a></p>
                            </div>
                        </div>
                        <!--Date Published-->
                        <div class="d-flex">
                            <p>Published: {{ job.time_publish.strftime('%d-%m-%Y') if job.active else "" }}</p>
                        </div>
                        <hr class="line">
                        <!--Status and Archive Btn-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <p>Status: <span class="text-success">Active</span></p>
                            </div>
                            <div>
                                <a href="{{ url_for('hide_job', job_id=job.id) }}" class="text-decoration-none">
                                    Hide Listing
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">
                                        <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                                    </svg>
                                  </a>
                            </div>

                        </div>
                        <!--Edit or Delete-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <p><a href="{{ url_for('edit_job', job_id=job.id) }}">
                                    Edit Job
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
                                        <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1"></path>
                                    </svg>
                                </a></p>
                            </div>
                            <div>
                                <a href="{{ url_for('delete_job', job_id=job.id) }}" class="text-decoration-none text-danger">
                                    Delete This Job
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                        <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path>
                                    </svg>
                                </a>

                            </div>
                        </div>



                    </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>
    </section>

    <!--Archived Jobs-->
    <section id="archived-jobs">
        <div class="container">
            <div class="row">
                <h3>Archive ({{ comp.num_of_hidden_jobs}})</h3>
            </div>
            <div class="row justify-content-center">
            {% for job in jobs %}
                {% if job.active == False %}
                    <div class="col-sm-12 col-md-5 col-lg-5 white-div shadow-light m-3 p-3">
                        <!--Role and Link-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <h4>{{ job.role }}</h5>
                            </div>
                            <div>
                                <p><a href="{{ url_for('job', comp_id=comp.id, name=comp.name_slug, job_id=job.id) }}">
                                    See listing
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
                                        <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1"></path>
                                    </svg>
                                </a></p>
                            </div>
                        </div>
                        <hr class="line">
                        <!--Status and Publish-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <p>Status: <span class="text-success">Archived</span></p>
                            </div>
                            <div>
                                <a href="{{ url_for('activate_job', job_id=job.id) }}" class="text-decoration-none">
                                    Activate Job
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                                        <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                        <!--Edit or Delete-->
                        <div class="d-flex justify-content-between">
                            <div>
                                <p><a href="{{ url_for('edit_job', job_id=job.id) }}">
                                    Edit Job
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
                                        <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1"></path>
                                    </svg>
                                </a></p>
                            </div>
                            <div>
                                <a href="{{ url_for('delete_job', job_id=job.id) }}" class="text-decoration-none text-danger">
                                    Delete This Job
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                        <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"></path>
                                    </svg>
                                </a>

                            </div>
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
            </div>
        </div>
    </section>

</section>
{% endblock %}